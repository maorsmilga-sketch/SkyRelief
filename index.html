<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyRelief Hotel Simulation</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        /* --- LOBBY ENVIRONMENT --- */
        :root { --tablet-bezel: #1a1a1a; --screen-radius: 20px; --accent: #0d9488; }
        body { margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center; background: #000; overflow: hidden; font-family: 'Montserrat', sans-serif; }
        
        /* Background Image - Luxury Lobby Blurred */
        .lobby-bg {
            position: fixed; inset: 0; z-index: -1;
            background: url('https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?q=80&w=2070&auto=format&fit=crop') center/cover no-repeat;
            filter: blur(15px) brightness(0.6); transform: scale(1.1);
        }

        /* --- THE TABLET HARDWARE --- */
        .ipad-container {
            width: 90vh; height: 65vh; /* Aspect ratio roughly 4:3 */
            max-width: 1024px; max-height: 768px;
            background: var(--tablet-bezel);
            border-radius: 36px; padding: 18px;
            box-shadow: 0 30px 70px rgba(0,0,0,0.6), inset 0 0 10px rgba(255,255,255,0.1);
            position: relative;
        }
        /* Camera dot for realism */
        .ipad-container::before { content: ''; position: absolute; top: 50%; left: 6px; width: 6px; height: 6px; background: #333; border-radius: 50%; transform: translateY(-50%); }

        .ipad-screen {
            width: 100%; height: 100%; background: #fff;
            border-radius: var(--screen-radius); overflow: hidden; position: relative;
            /* Subtle screen reflection */
            background: linear-gradient(135deg, #ffffff 0%, #f0f2f5 100%);
        }

        /* --- SCENARIO STATES --- */
        .state { position: absolute; inset: 0; transition: opacity 0.8s ease-in-out; opacity: 0; pointer-events: none; }
        .state.active { opacity: 1; pointer-events: all; }

        /* STATE 1: IDLE LOBBY SCREEN */
        #idle-state { display: flex; flex-direction: column; justify-content: center; align-items: center; color: #333; text-align: center; }
        .hotel-logo { font-size: 40px; font-weight: 800; letter-spacing: 2px; color: #0a2e5c; margin-bottom: 10px; }
        .hotel-sub { font-size: 14px; color: #666; text-transform: uppercase; letter-spacing: 1px; }
        .system-status { margin-top: 50px; display: flex; align-items: center; gap: 10px; font-size: 12px; color: var(--accent); background: rgba(13, 148, 136, 0.1); padding: 8px 15px; border-radius: 20px; }
        .pulse-dot { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

        /* NOTIFICATION BANNER */
        #notification {
            position: absolute; top: -100px; left: 20px; right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-left: 5px solid #ef4444;
            padding: 15px; border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex; align-items: center; gap: 15px;
            cursor: pointer; transition: top 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); z-index: 100;
        }
        #notification.show { top: 20px; }
        .notif-icon { font-size: 30px; }
        .notif-content strong { display: block; color: #ef4444; font-size: 16px; }
        .notif-content span { font-size: 13px; color: #333; }

        /* STATE 2: BIDDING INTERFACE (Adapted from previous code) */
        #bidding-state { padding: 20px; background: #f8fafc; display: flex; flex-direction: column; }
        .header-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .logo-mini { font-weight: 800; color: #0a2e5c; } .logo-mini span { color: #38bdf8; }
        .alert-box { background: #fee2e2; border: 1px solid #ef4444; padding: 15px; border-radius: 12px; display: flex; gap: 15px; align-items: center; margin-bottom: 20px; animation: shake 0.5s; }
        .bid-area { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .market-price { font-size: 60px; font-weight: 800; color: #ef4444; margin: 10px 0; }
        .btn-bid { padding: 15px 40px; background: var(--accent); color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: 700; cursor: pointer; width: 100%; max-width: 300px; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    </style>
</head>
<body>

    <audio id="notif-sound" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>

    <div class="lobby-bg"></div>

    <div class="ipad-container">
        <div class="ipad-screen">
            
            <div id="idle-state" class="state active">
                <div class="hotel-logo">THE ROYAL TERMINAL</div>
                <div class="hotel-sub">Luxury Airport Hotel & Suites</div>
                <div class="system-status">
                    <div class="pulse-dot"></div>
                    SkyRelief Network: Connected & Monitoring
                </div>
            </div>

            <div id="notification" onclick="startBidding()">
                <div class="notif-icon">üö®</div>
                <div class="notif-content">
                    <strong>URGENT IROPS ALERT: Flight LY315 Delayed</strong>
                    <span>Immediate requirement: 40 Rooms needed. Tap to bid now.</span>
                </div>
            </div>

            <div id="bidding-state" class="state">
                 <div class="header-bar">
                    <div class="logo-mini">Sky<span>Relief</span> Partner</div>
                    <div>Hotel ID: #RTH-LHR</div>
                 </div>
                 <div class="alert-box">
                    <div style="font-size: 24px;">‚úàÔ∏è</div>
                    <div><strong>Active IROPS Request:</strong> Flight LY315 | 40 Pax | Tonight</div>
                 </div>
                 <div class="bid-area">
                    <div style="text-transform: uppercase; font-size: 12px; color: #666;">Current Lowest Market Bid</div>
                    <div class="market-price" id="live-price">‚Ç¨220</div>
                    <p style="color: var(--accent); font-size: 14px; margin-bottom: 30px;">üìâ 3 other hotels are bidding...</p>
                    <button class="btn-bid" onclick="alert('Bid Submitted! Demo Ends.')">Quick Bid: ‚Ç¨195</button>
                 </div>
            </div>

        </div>
    </div>

    <script>
        // --- THE SIMULATION SEQUENCE ---
        
        // 1. Wait 4 seconds, then trigger the disruption
        setTimeout(() => {
            triggerDisruption();
        }, 4000);

        function triggerDisruption() {
            // Play sound (might need user interaction first depending on browser)
            document.getElementById('notif-sound').play().catch(e => console.log("Audio play failed needed interaction"));
            // Show banner
            document.getElementById('notification').classList.add('show');
        }

        // 2. User clicks the notification -> Switch to bidding screen
        function startBidding() {
            // Hide notification & idle screen
            document.getElementById('notification').classList.remove('show');
            document.getElementById('idle-state').classList.remove('active');
            
            // Show bidding screen
            document.getElementById('bidding-state').classList.add('active');

            // Start the price drop simulation
            startPriceDrop();
        }

        // 3. Simulate live price dropping
        function startPriceDrop() {
            let price = 220;
            const priceEl = document.getElementById('live-price');
            setInterval(() => {
                if(price > 160) {
                    price -= Math.floor(Math.random() * 5) + 2;
                    priceEl.innerText = '‚Ç¨' + price;
                    // Subtle flash effect on price change
                    priceEl.style.color = '#333';
                    setTimeout(() => { priceEl.style.color = '#ef4444'; }, 200);
                }
            }, 2500);
        }
    </script>
</body>
</html>
